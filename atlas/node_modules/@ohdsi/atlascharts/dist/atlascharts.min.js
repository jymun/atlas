var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.inherits=function(a,m){function e(){}e.prototype=m.prototype;a.superClass_=m.prototype;a.prototype=new e;a.prototype.constructor=a;for(var b in m)if("prototype"!=b)if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(m,b);c&&Object.defineProperty(a,b,c)}else a[b]=m[b]};
$jscomp.owns=function(a,m){return Object.prototype.hasOwnProperty.call(a,m)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,m,e){a!=Array.prototype&&a!=Object.prototype&&(a[m]=e.value)};
$jscomp.polyfill=function(a,m,e,b){if(m){e=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var c=a[b];c in e||(e[c]={});e=e[c]}a=a[a.length-1];b=e[a];m=m(b);m!=b&&null!=m&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:m})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,e){for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var l in c)$jscomp.owns(c,l)&&(a[l]=c[l])}return a}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var m=0;return $jscomp.iteratorPrototype(function(){return m<a.length?{done:!1,value:a[m++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,m){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,b={next:function(){if(e<a.length){var c=e++;return{value:m(c,a[c]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,e){return e})}},"es6","es3");$jscomp.polyfill("Object.values",function(a){return a?a:function(a){var e=[],b;for(b in a)$jscomp.owns(a,b)&&e.push(a[b]);return e}},"es8","es3");
$jscomp.findInternal=function(a,m,e){a instanceof String&&(a=String(a));for(var b=a.length,c=0;c<b;c++){var l=a[c];if(m.call(e,l,c,a))return{i:c,v:l}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3");
define("atlascharts/chart",["d3","lodash","d3-tip"],function(a,m,e){var b=function(){};b.prototype.render=function(a,b,h,f,g){var c=this;"string"==typeof b&&(b=document.querySelector(b));this.doResize||(this.doResize=m.debounce(function(){c.render(a,b,b.clientWidth,b.clientHeight,g)},250),window.addEventListener("resize",this.doResize))};b.prototype.getOptions=function(c,b){return Object.assign({},{margins:{top:10,right:10,bottom:10,left:10},xFormat:a.format(",.0f"),yFormat:a.format("s"),colors:a.scaleOrdinal(a.schemeCategory20.concat(a.schemeCategory20c))},
Object.assign({},c),Object.assign({},b))};b.prototype.createSvg=function(c,b,h){this.destroyTipIfExists();c=a.select(c);c.select("svg").remove();return this.chart=b=c.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","\n\t        0\n\t        0\n\t        "+b+"\n\t        "+h).append("g").attr("class","chart")};b.prototype.useTip=function(a,b){a=void 0===a?function(){}:a;this.destroyTipIfExists();this.tip=e().attr("class","d3-tip");a(this.tip,b);this.chart&&this.chart.call(this.tip);
return this.tip};b.prototype.destroyTipIfExists=function(){this.tip&&this.tip.destroy()};b.normalizeDataframe=function(c){var b=a.keys(c),h=Object.assign({},c);b.forEach(function(a){c[a]instanceof Array||(h[a]=[c[a]])});return h};b.dataframeToArray=function(c){var b=a.keys(c);return c[b[0]]instanceof Array?c[b[0]].map(function(a,l){var f={};b.forEach(function(a){f[a]=c[a][l]});return f}):[c]};b.prototype.truncate=function(c,b){c.each(function(){for(var c=a.select(this),l=c.text(),g=c.node().getComputedTextLength(),
d=c.text();g>b&&0<d.length;)d=d.slice(0,-1),c.text(d+"..."),g=c.node().getComputedTextLength();c.append("title").text(l)})};b.prototype.wrap=function(c,b){c.each(function(){for(var c=a.select(this),l=c.text().split(/\s+/).reverse(),g=[],d,e=0,k=c.attr("y"),n=parseFloat(c.attr("dy")),q=c.text(null).append("tspan").attr("x",0).attr("y",k).attr("dy",n+"em");d=l.pop();)g.push(d),q.text(g.join(" ")),q.node().getComputedTextLength()>b&&(1<g.length&&(g.pop(),l.push(d),q.text(g.join(" "))),g=[],q=c.append("tspan").attr("x",
0).attr("y",k).attr("dy",1.1*++e+n+"em"))})};b.prototype.tooltipFactory=function(a){return function(c){var b="";if(void 0!==a)for(var l=0;l<a.length;l+=1){var g=a[l].accessor(c);void 0!==a[l].format&&(g=a[l].format(g));b+=a[l].label+": "+g+"\x3c/br\x3e"}return b}};b.prototype.lineDefaultTooltip=function(a,b,h,f,g,d,e){return function(c){var l="";e(c)&&(l="Series: "+e(c)+"\x3c/br\x3e");l+=a+": "+b(h(c))+"\x3c/br\x3e";return l+=f+": "+g(d(c))}};b.prototype.donutDefaultTooltip=function(a,b,h){return function(c){return a(c)+
": "+b(c)+" ("+h(c)+")"}};b.mapMonthYearDataToSeries=function(a,b){var c=Object.assign({},{dateField:"x",yValue:"y",yPercent:"p"},b),l={name:"All Time",values:[]};a[c.dateField].map(function(b,d){l.values.push({xValue:new Date(Math.floor(a[c.dateField][d]/100),a[c.dateField][d]%100-1,1),yValue:a[c.yValue][d],yPercent:a[c.yPercent][d]})});l.values.sort(function(a,c){return a.xValue-c.xValue});return[l]};b.prepareData=function(a,b){switch(b){case this.chartTypes.BOXPLOT:if(!a.CATEGORY.length)return null;
b=a.CATEGORY.map(function(b,c){return{Category:a.CATEGORY[c],min:a.MIN_VALUE[c],max:a.MAX_VALUE[c],median:a.MEDIAN_VALUE[c],LIF:a.P10_VALUE[c],q1:a.P25_VALUE[c],q3:a.P75_VALUE[c],UIF:a.P90_VALUE[c]}},a);return Object.values(b).reduce(function(a,b){return a.concat(b)},[]).length?b:null}};b.prototype.dispose=function(){this.destroyTipIfExists();this.doResize&&window.removeEventListener("resize",this.doResize)};$jscomp.global.Object.defineProperties(b.prototype,{formatters:{configurable:!0,enumerable:!0,
get:function(){return{formatSI:function(b){b=b||0;return function(c){return 1>c?Math.round(c,b):a.format(",.0s",c)(c)}}}}}});$jscomp.global.Object.defineProperties(b,{chartTypes:{configurable:!0,enumerable:!0,get:function(){return{AREA:"AREA",BOXPLOT:"BOXPLOT",DONUT:"DONUT",HISTOGRAM:"HISTOGRAM",LINE:"LINE",TRELLISLINE:"TRELLISLINE"}}}});return b});
define("atlascharts/aster",["d3","./chart"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.prototype.render=function(b,c,l,h,f){m.prototype.render.call(this,b,c,l,h,f);var g=this.getOptions({maxPercent:100},f);c=this.createSvg(c,l,h);f=c.append("g").attr("transform","translate("+l/2+", "+h/2+")");h=Math.min(l-10,h-10)/2;var d=.3*h,e=a.scaleLinear().domain([0,g.maxPercent]).range([d,h]);l=a.arc().innerRadius(d).outerRadius(function(a){return e(a.data.percent)});
h=a.arc().innerRadius(d).outerRadius(h);d=[0,2*Math.PI];d=a.pie().sort(null).startAngle(d[0]).endAngle(d[1]).value(function(a){return a.weight});1<b.length&&d.padAngle(.01);f.selectAll(".solidArc").data(d(b)).enter().append("path").attr("fill",function(a){return g.colors(a.data.id)}).attr("class","solidArc").attr("d",l);f.selectAll(".outlineArc").data(d(b)).enter().append("path").attr("fill","none").attr("stroke",function(a){return g.colors(a.data.id)}).attr("class","outlineArc").attr("d",h);g.asterLabel&&
c.append("svg:text").attr("class","aster-label").attr("dy",".35em").attr("text-anchor","middle").text(asterLabel());b=f.append("g").attr("class","axisWrapper");c=Math.ceil(g.maxPercent/25);for(var k=1;k<c;k++)b.append("circle").attr("class","gridCircle").attr("r",e(25*k)).style("fill","none").style("stroke","#c5c5c5").style("stroke-width",.6),1==k%2&&(b.append("rect").attr("x",-8).attr("y",-e(25*k)-5).attr("width",20).style("height",10).attr("fill","#fff"),b.append("text").attr("class","axisLabel").attr("x",
-6).attr("y",-e(25*k)).attr("dy",".4em").style("font-size","8px").attr("fill","#737373").text(function(a,b){return 25*k+"%"}))};return e});
define("atlascharts/areachart",["d3","./chart"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.prototype.render=function(b,c,l,h,f){m.prototype.render.call(this,b,c,l,h,f);var g={margin:{top:20,right:30,bottom:20,left:40},yTicks:4,xFormat:a.format(",.0f"),yFormat:a.format("s")};f=Object.assign({},g,f);var d=l-f.margin.left-f.margin.right;g=h-f.margin.top-f.margin.bottom;var e=a.scaleLinear().domain(a.extent(b,function(a){return a.x})).range([0,d]),k=
a.scaleLinear().domain([0,a.max(b,function(a){return a.y})]).range([g,0]);d=a.axisBottom().scale(e).tickFormat(f.xFormat).ticks(10);var n=a.axisLeft().scale(k).tickFormat(f.yFormat).ticks(f.yTicks),q=a.area().x(function(a){return e(a.x)}).y0(g).y1(function(a){return k(a.y)});c=this.createSvg(c,l,h).append("g").attr("transform","translate("+f.margin.left+","+f.margin.top+")");c.append("path").data([b]).attr("class","area").attr("d",q);c.append("g").attr("class","x axis").attr("transform","translate(0,"+
g+")").call(d);c.append("g").attr("class","y axis").call(n)};return e});
define("atlascharts/barchart",["d3","./chart"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.prototype.render=function(b,c,l,h,f){var g=this;m.prototype.render.call(this,b,c,l,h,f);var d=this.getOptions({label:"label",value:"value",rotate:0,textAnchor:"middle",showLabels:!1},f);c=this.createSvg(c,l,h);this.useTip(function(a){a.attr("class","d3-tip").offset([-10,0]).html(function(a){return a.value})});var e=d.label,k=d.value,n=0;b.forEach(function(a){n+=
a[k]});l=l-d.margins.left-d.margins.right;var q=h-d.margins.top-d.margins.bottom,r=a.scaleBand().range([0,l]).padding(.1).round(1/b.length),t=a.scaleLinear().range([q,0]);h=a.axisBottom().scale(r).tickSize(2,0);f=a.axisLeft().scale(t).tickFormat(d.yFormat).ticks(5);r.domain(b.map(function(a){return a[e]}));t.domain([0,d.yMax||a.max(b,function(a){return a[k]})]);var p=c.append("g").attr("class","axis");p.call(h);var u=Math.round(p.node().getBBox().height),v=Math.round(p.node().getBBox().width);q-=
u;l-=Math.max(0,v-l);p.remove();p=c.append("g").attr("class","axis");p.call(f);u=Math.round(p.node().getBBox().width);l-=u;p.remove();r.range([0,l]);t.range([q,0]);c=c.append("g").attr("transform","translate(\n\t          "+(d.margins.left+u)+",\n\t          "+d.margins.top+"\n\t        )");c.append("g").attr("class","x axis").attr("transform","translate(0, "+q+")").call(h).selectAll(".tick text").style("text-anchor",d.textAnchor).attr("transform",function(a){return"rotate("+d.rotate+")"});d.wrap&&
c.selectAll(".tick text").call(this.wrap,r.bandwidth());c.append("g").attr("class","y axis").attr("transform","translate(0, 0)").call(f);c.selectAll(".bar").data(b).enter().append("rect").attr("class","bar").attr("x",function(a){return r(a[e])}).attr("width",r.bandwidth()).attr("y",function(a){return t(a[k])}).attr("height",function(a){return q-t(a[k])}).attr("title",function(a){var b=a[e]+": "+g.formatters.commaseparated(a[k],",");return b=0<n?b+(" ("+g.formatters.formatpercent(a[k]/n)+")"):b+(" ("+
g.formatters.formatpercent(0)+")")}).style("fill",function(a){return d.colors(a[e])}).on("mouseover",function(a){return g.tip.show(a,event.target)}).on("mouseout",function(a){return g.tip.hide(a,event.target)}).exit().remove();d.showLabels&&c.selectAll(".barlabel").data(b).enter().append("text").attr("class","barlabel").text(function(a){return g.formatters.formatpercent(a[k]/n)}).attr("x",function(a){return r(a[e])+r.bandwidth()/2}).attr("y",function(a){return t(a[k])-3}).attr("text-anchor","middle")};
$jscomp.global.Object.defineProperties(e.prototype,{formatters:{configurable:!0,enumerable:!0,get:function(){return{commaseparated:a.format(","),formatpercent:a.format(".1%")}}}});return e});
define("atlascharts/boxplot",["d3","./chart"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.prototype.defaultTip=function(a,c){a.attr("class","d3-tip").offset(function(a){return a.tipOffset||[-10,0]}).direction(function(a){return a.tipDirection||"n"}).html(function(a){return"\x3ctable class\x3d'boxplotValues'\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3eMax:\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e"+c.valueFormatter(a.max)+"\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3eP90:\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e"+
c.valueFormatter(a.UIF)+"\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3eP75:\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e"+c.valueFormatter(a.q3)+"\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3eMedian:\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e"+c.valueFormatter(a.median)+"\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3eP25:\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e"+c.valueFormatter(a.q1)+"\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3eP10:\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e"+
c.valueFormatter(a.LIF)+"\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3eMin:\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e"+c.valueFormatter(a.min)+"\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3c/table\x3e"})};e.prototype.render=function(b,c,l,h,f){m.prototype.render.call(this,b,c,l,h,f);var g={valueFormatter:this.formatters.formatSI(3)};f=this.getOptions(g,f);c=this.createSvg(c,l,h);this.useTip(this.defaultTip,f);var d=0;g=0;f.xLabel&&(d=c.append("g").attr("transform","translate("+
l/2+", "+(h-f.margins.bottom)+")"),d.append("text").attr("class","axislabel").style("text-anchor","middle").text(f.xLabel),d=d.node().getBBox().height);f.yLabel&&(g=c.append("g").attr("transform","translate(\n\t            "+f.margins.left+",\n\t            "+((h-f.margins.bottom-f.margins.top)/2+f.margins.top)+"\n\t          )"),g.append("text").attr("class","axislabel").attr("transform","rotate(-90)").attr("y",0).attr("x",0).attr("dy","1em").style("text-anchor","middle").text(f.yLabel),g=g.node().getBBox().width);
l=l-f.margins.left-g-f.margins.right;h=h-f.margins.top-d-f.margins.bottom;var e=a.scaleBand().range([0,l]).round(1/b.length).domain(b.map(function(a){return a.Category})),k=a.scaleLinear().range([h,0]).domain([f.yMin||0,f.yMax||a.max(b,function(a){return a.max})]);d=a.axisBottom().scale(e);var n=a.axisLeft().scale(k).tickFormat(f.yFormat).ticks(5),q=c.append("g").attr("class","axis");q.call(d);var r=Math.round(q.node().getBBox().height),t=Math.round(q.node().getBBox().width);h-=r;l-=Math.max(0,t-
l);q.remove();q=c.append("g").attr("class","axis");q.call(n);r=Math.round(q.node().getBBox().width);l-=r;q.remove();e.range([0,l]);k.range([h,0]);var p=e.bandwidth()/2-5,u=e.bandwidth()/2-2.5;f=c.append("g").attr("transform","translate(\n\t          "+(f.margins.left+g+r)+",\n\t          "+f.margins.top+"\n\t        )");var v=this;f.selectAll(".boxplot").data(b).enter().append("g").attr("class","boxplot").attr("transform",function(a){return"translate("+e(a.Category)+", 0)"}).each(function(b){var c=
a.select(this);b.LIF!=b.q1&&(c.append("line").attr("class","bar").attr("x1",u).attr("y1",k(b.LIF)).attr("x2",u+5).attr("y2",k(b.LIF)),c.append("line").attr("class","whisker").attr("x1",e.bandwidth()/2).attr("y1",k(b.LIF)).attr("x2",e.bandwidth()/2).attr("y2",k(b.q1)));c.append("rect").attr("class","box").attr("x",p).attr("y",k(b.q3)).attr("width",10).attr("height",Math.max(1,k(b.q1)-k(b.q3))).on("mouseover",function(a){return v.tip.show(a,event.target)}).on("mouseout",function(a){return v.tip.hide(a,
event.target)});c.append("line").attr("class","median").attr("x1",p).attr("y1",k(b.median)).attr("x2",p+10).attr("y2",k(b.median));b.UIF!=b.q3&&(c.append("line").attr("class","bar").attr("x1",u).attr("y1",k(b.UIF)).attr("x2",e.bandwidth()-u).attr("y2",k(b.UIF)),c.append("line").attr("class","whisker").attr("x1",e.bandwidth()/2).attr("y1",k(b.UIF)).attr("x2",e.bandwidth()/2).attr("y2",k(b.q3)))});f.append("g").attr("class","x axis").attr("transform","translate(0, "+h+")").call(d);f.selectAll(".tick text").call(this.wrap,
e.bandwidth()||e.range());f.append("g").attr("class","y axis").attr("transform","translate(0, 0)").call(n)};return e});
define("atlascharts/donut",["d3","numeral","./chart"],function(a,m,e){var b=function(a){return e.apply(this,arguments)||this};$jscomp.inherits(b,e);b.prototype.render=function(b,l,h,f,g){function c(){var b=a.select(this);b.attr("initialX",event.x);b.attr("initialY",event.y)}function y(){var b=a.select(this),c=event.y-parseFloat(b.attr("initialY"));if(isNaN(c))return!1;b.attr("transform","translate(\n\t        "+parseFloat(b.attr("initialPositionX"))+",\n\t        "+(parseFloat(b.attr("initialPositionY"))+
c)+"\n\t      )")}function k(){var b=a.select(this);b.transition().duration(300).attr("transform","translate(\n\t          "+b.attr("initialPositionX")+",\n\t          "+b.attr("initialPositionY")+"\n\t        )")}var n=this;e.prototype.render.call(this,b,l,h,f,g);var q=this.getOptions(g);g=this.createSvg(l,h,f);var r=0;b.forEach(function(a){r+=+a.value});var t=this.donutDefaultTooltip(function(a){return a.label},function(a){return m(a.value).format("0,0")},function(a){return n.formatters.formatpercent(0!=
r?a.value/r:0)});this.useTip(function(a){return a.attr("class","d3-tip").direction("s").offset([3,0]).html(t)});if(0<b.length){l=g.append("g").attr("id","chart");var p=a.drag().on("drag",y).on("start",c).on("end",k);g=g.append("g").attr("class","legend").call(p);g.selectAll("rect").data(b).enter().append("rect").attr("x",0).attr("y",function(a,b){return 15*b}).attr("width",10).attr("height",10).style("fill",function(a){return q.colors(a.id)});var u=0;p=g.selectAll("g.legend-item").data(b).enter().append("g").attr("class",
"legend-item");p.append("text").attr("x",12).attr("y",function(a,b){return 15*b+9}).text(function(a){return a.label});p.append("title").attr("x",12).attr("y",function(a,b){return 15*b+9}).text(function(a){return a.label});p.each(function(){var a=this.getBBox().width;a>u&&u+a<.75*h&&(u=a)});u+=12;g.attr("transform","translate(\n\t            "+(h-u-q.margins.right)+",\n\t            "+q.margins.top+"\n\t          )").attr("initialPositionX",h-u-q.margins.right).attr("initialPositionY",q.margins.top);
l.attr("transform","translate("+(h-u)/2+", "+f/2+")");g=Math.min(f,h-u)/2-q.margins.top;f=Math.min(f,h-u)/6-q.margins.top;f=a.arc().innerRadius(f).outerRadius(g);g=a.pie().value(function(a){return 0<a.value?Math.max(a.value,.015*r):0});l.selectAll("g.slice").data(g(b)).enter().append("g").attr("class","slice").append("path").attr("fill",function(a){return q.colors(a.data.id)}).attr("stroke","#fff").attr("stroke-width",5).attr("title",function(a){return a.label}).on("mouseover",function(a){return n.tip.show(a.data,
event.target)}).on("mouseout",function(a){return n.tip.hide(a.data,event.target)}).attr("d",f)}else g.append("text").attr("transform","translate("+h/2+", "+f/2+")").style("text-anchor","middle").text("No Data")};$jscomp.global.Object.defineProperties(b.prototype,{formatters:{configurable:!0,enumerable:!0,get:function(){return{formatpercent:a.format(".1%")}}}});return b});
define("atlascharts/histogram",["d3","numeral","./chart"],function(a,m,e){var b=function(a){return e.apply(this,arguments)||this};$jscomp.inherits(b,e);b.mapHistogram=function(a){for(var b=[],c=a.OFFSET||0,f=a.INTERVAL_SIZE,g=this.normalizeDataframe(a.DATA),d=0;d<a.INTERVALS;d+=1){var e={};e.x=c+1*g.INTERVAL_INDEX[d]*f;e.dx=f;e.y=g.COUNT_VALUE[d]||0;b.push(e)}return b};b.prototype.drawBoxplot=function(a,b,h,f){h=this.xScale;var c=f/2;b.LIF!==b.q1&&(a.append("line").attr("class","bar").attr("x1",h(b.LIF)).attr("y1",
f/2-c/2).attr("x2",h(b.LIF)).attr("y2",f/2+c/2),a.append("line").attr("class","whisker").attr("x1",h(b.LIF)).attr("y1",f/2).attr("x2",h(b.q1)).attr("y2",f/2));a.append("rect").attr("class","box").attr("x",h(b.q1)).attr("width",h(b.q3)-h(b.q1)).attr("height",f);a.append("line").attr("class","median").attr("x1",h(b.median)).attr("y1",0).attr("x2",h(b.median)).attr("y2",f);b.UIF!==b.q3&&(a.append("line").attr("class","bar").attr("x1",h(b.UIF)).attr("y1",f/2-c/2).attr("x2",h(b.UIF)).attr("y2",f/2+c/2),
a.append("line").attr("class","whisker").attr("x1",h(b.q3)).attr("y1",f/2).attr("x2",h(b.UIF)).attr("y2",f/2))};b.prototype.render=function(b,l,h,f,g){var c=this;e.prototype.render.call(this,b,l,h,f,g);var y={ticks:10,yTicks:4,yScale:a.scaleLinear(),boxplotHeight:10,getTooltipBuilder:null};g=this.getOptions(y,g);l=this.createSvg(l,h,f);this.xScale={};b=b||[];var k="function"===typeof g.getTooltipBuilder?g.getTooltipBuilder(g):function(a){return m(a.y).format("0,0")};this.useTip(function(a){a.attr("class",
"d3-tip").offset([-10,0]).html(k)});var n=0;y=0;g.xLabel&&(n=l.append("g").attr("transform","translate("+h/2+", "+(f-g.margins.bottom)+")"),n.append("text").attr("class","axislabel").style("text-anchor","middle").text(g.xLabel),n=n.node().getBBox().height);g.yLabel&&(y=l.append("g").attr("transform","translate(\n\t            "+g.margins.left+",\n\t            "+((f-g.margins.bottom-g.margins.top)/2+g.margins.top)+"\n\t          )"),y.append("text").attr("class","axislabel").attr("transform","rotate(-90)").attr("y",
0).attr("x",0).attr("dy","1em").style("text-anchor","middle").text(g.yLabel),y=1.5*y.node().getBBox().width);h=h-g.margins.left-g.margins.right-y;var q=f-g.margins.top-g.margins.bottom-n,r=this.xScale=a.scaleLinear().domain(g.xDomain||[a.min(b,function(a){return a.x}),a.max(b,function(a){return a.x+a.dx})]).range([0,h]);f=a.axisBottom().scale(r).ticks(g.ticks).tickFormat(g.xFormat);var t=g.yScale.domain([0,g.yMax||a.max(b,function(a){return a.y})]).range([q,0]);n=a.axisLeft().scale(t).ticks(g.yTicks).tickFormat(g.yFormat);
var p=l.append("g").attr("class","axis");p.call(f);var u=Math.round(p.node().getBBox().height),v=Math.round(p.node().getBBox().width);q-=u;h-=Math.max(0,v-h);p.remove();v=l.append("g").attr("class","axis");v.call(n);p=Math.round(v.node().getBBox().width);h-=p;v.remove();g.boxplot&&(q-=12,u=l.append("g").attr("class","boxplot").attr("transform","translate("+(g.margins.left+y+p)+",\n\t          "+(g.margins.top+q+u)+")"),this.drawBoxplot(u,g.boxplot,h,8));r.range([0,h]);t.range([q,0]);g=l.append("g").attr("transform",
"translate(\n\t        "+(g.margins.left+y+p)+",\n\t        "+g.margins.top+")");g.selectAll(".bar").data(b).enter().append("g").attr("class","bar").attr("transform",function(a){return"translate("+r(a.x)+", "+t(a.y)+")"}).on("mouseover",function(a){return c.tip.show(a,event.target)}).on("mouseout",function(a){return c.tip.hide(a,event.target)}).append("rect").attr("x",1).attr("width",function(a){return Math.max(r(a.x+a.dx)-r(a.x)-1,.5)}).attr("height",function(a){return q-t(a.y)});g.append("g").attr("class",
"x axis").attr("transform","translate(0, "+q+")").call(f);g.append("g").attr("class","y axis").attr("transform","translate(0, 0)").call(n)};return b});
define("atlascharts/line",["d3","./chart"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.convertData=function(a){a[0].hasOwnProperty("values")||(a=[{name:"",values:a}]);return a};e.getMinValue=function(b,c){return a.min(b,function(b){return a.min(b.values,function(a){return a[c]})})};e.getMaxValue=function(b,c){return a.max(b,function(b){return a.max(b.values,function(a){return a[c]})})};e.getZeroBasedY=function(b){var c=b.height;b=e.getMaxValue(b.data,
b.yValue);return a.scaleLinear().domain([0,b]).range([c,0])};e.getRelativeY=function(b){var c=b.data,l=void 0===b.yValue?"yValue":b.yValue,h=b.height,f=void 0===b.yRangePadding?.1:b.yRangePadding,g=void 0===b.defaultYRangePadding?10:b.defaultYRangePadding;c=e.convertData(c);b=e.getMinValue(c,l);c=e.getMaxValue(c,l);f=(c-b)*f||g;return a.scaleLinear().domain([b-f,c+f]).range([h,0])};e.prototype.render=function(b,c,l,h,f){m.prototype.render.call(this,b,c,l,h,f);"string"==typeof c&&(c=document.querySelector(c));
var g={xFormat:this.formatters.formatSI(3),yFormat:this.formatters.formatSI(3),interpolate:this.interpolation.linear,seriesName:"SERIES_NAME",xValue:"xValue",yValue:"yValue",cssClass:"lineplot",ticks:10,yTicks:4,showSeriesLabel:!1,labelIndexDate:!1,colorBasedOnIndex:!1,getTooltipBuilder:null},d=this.getOptions(g,f);c=this.createSvg(c,l,h);var y="function"===typeof d.getTooltipBuilder?d.getTooltipBuilder(d):this.lineDefaultTooltip(d.xLabel||"x",d.xFormat,function(a){return a[d.xValue]},d.yLabel||"y",
d.yFormat,function(a){return a[d.yValue]},function(a){return a[d.seriesName]});if(0<b.length){b=e.convertData(b);this.useTip(function(a){a.attr("class","d3-tip").offset([-10,0]).html(y)});f=g=0;if(d.xLabel){var k=c.append("g").attr("transform","translate("+l/2+", "+(h-d.margins.bottom)+")");k.append("text").attr("class","axislabel").style("text-anchor","middle").text(d.xLabel);k=k.node().getBBox();g+=k.height}d.yLabel&&(f=c.append("g").attr("transform","translate(\n\t              "+d.margins.left+
",\n\t              "+((h-d.margins.bottom-d.margins.top)/2+d.margins.top)+"\n\t            )"),f.append("text").attr("class","axislabel").attr("transform","rotate(-90)").attr("y",0).attr("x",0).attr("dy","1em").style("text-anchor","middle").text(d.yLabel),k=f.node().getBBox(),f=1.2*k.width);k=0;if(d.showLegend){var n=c.append("g").attr("class","legend"),q=0;b.forEach(function(a,b){n.append("rect").attr("x",0).attr("y",15*b).attr("width",10).attr("height",10).style("fill",d.colors(a.name));a=n.append("text").attr("x",
12).attr("y",15*b+9).text(a.name);q=Math.max(a.node().getBBox().width+12,q)});n.attr("transform","translate(\n\t          "+(l-d.margins.right-q)+",\n\t          "+d.margins.top+"\n\t        )");k+=q+5;k>l/3&&n.style("display","none")}l=l-d.margins.left-d.margins.right-f-(k>l/5?0:k);h=h-d.margins.top-d.margins.bottom-g;var r=d.xScale||a.scaleLinear().domain([a.min(b,function(b){return a.min(b.values,function(a){return a[d.xValue]})}),a.max(b,function(b){return a.max(b.values,function(a){return a[d.xValue]})})]);
g=a.axisBottom().scale(r).ticks(d.ticks);d.tickFormat?g.tickFormat(d.tickFormat):g.tickFormat(d.xFormat);"function"===typeof r.rangePoints?r.rangePoints([0,l]):r.range([0,l]);var t=d.yScale||e.getZeroBasedY({data:b,height:h,yValue:d.yValue});k=a.axisLeft().scale(t).tickFormat(d.yFormat).ticks(d.yTicks);var p=c.append("g").attr("class","axis");p.call(g);var u=Math.round(p.node().getBBox().height),v=Math.round(p.node().getBBox().width);h-=u;l-=Math.max(0,v-l);p.remove();p=d.yAxisWidth;void 0==d.yAxisWidth&&
(u=c.append("g").attr("class","axis"),u.call(k),p=Math.round(u.node().getBBox().width),u.remove());l-=p;"function"===typeof r.rangePoints?r.rangePoints([0,l]):r.range([0,l]);t.range([h,0]);var w=a.line().x(function(a){return r(a[d.xValue])}).y(function(a){return t(a[d.yValue])}).curve(d.interpolate);c=c.append("g").attr("class",d.cssClass).attr("transform","translate(\n\t            "+(d.margins.left+f+p)+",\n\t            "+d.margins.top+"\n\t          )");f=c.selectAll(".series").data(b).enter().append("g");
p=f.append("path").attr("class","line").attr("d",function(b){return w(b.values.sort(function(b,c){return a.ascending(b[d.xValue],c[d.xValue])}))});d.colors&&p.style("stroke",function(a,b){return d.colors(a.name)});d.showSeriesLabel&&f.append("text").datum(function(a){return{name:a.name,value:a.values[a.values.length-1]}}).attr("transform",function(a){return"translate("+r(a.value[d.xValue])+", "+t(a.value[d.yValue])+")"}).attr("x",3).attr("dy",2).style("font-size","8px").text(function(a){return a.name});
c.append("g").attr("class","x axis").attr("transform","translate(0, "+h+")").call(g);c.append("g").attr("class","y axis").call(k);d.labelIndexDate&&c.append("rect").attr("transform","translate(-0.5, 0)").attr("width",1).attr("height",h);this.appendTracker({vis:c,data:b,width:l,height:h,x:r,y:t,options:d})}else c.append("text").attr("transform","translate("+l/2+", "+h/2+")").style("text-anchor","middle").text("No Data")};e.prototype.appendTracker=function(b){var c=this,l=b.vis,h=b.data,f=b.width,g=
b.height,d=b.x,e=b.y,k=b.options,n=l.append("g").attr("class","current-focus").style("display","none"),q=n.append("line").attr("class","x-hover-line").style("stroke-width","2px").style("stroke-dasharray","3,3").attr("y1",0),m=n.append("circle").attr("r",2);b=l.append("rect").style("opacity",0);var t=a.quadtree().x(function(a){return d(a[k.xValue])}).y(function(a){return e(a[k.yValue])});h=h.reduce(function(a,b){return a.concat(b.values.map(function(a){a.name=b.name;return a}))},[]);t.addAll(h);b.attr("class",
"overlay").attr("width",f).attr("height",g).attr("pointer-events","all").on("mouseover",function(){return n.style("display",null)}).on("mouseout",function(){n.style("display","none");c.tip.hide({},n.node())});b.on("mousemove",function(){var b=a.mouse(a.event.target);b=t.find(b[0],b[1]);m.style("fill",k.colors(b.name));q.style("stroke",k.colors(b.name));q.attr("y2",g-e(b[k.yValue]));n.attr("transform","translate("+d(b[k.xValue])+","+e(b[k.yValue])+")");c.tip.show(b,n.node())})};$jscomp.global.Object.defineProperties(e.prototype,
{interpolation:{configurable:!0,enumerable:!0,get:function(){return{linear:a.curveLinear,curveStep:a.curveStep,curveStepBefore:a.curveStepBefore,curveStepAfter:a.curveStepAfter,curveBasis:a.curveBasis,curveCardinal:a.curveCardinal,curveMonotoneX:a.curveMonotoneX,curveCatmullRom:a.curveCatmullRom}}}});return e});
define("atlascharts/trellisline",["d3","./chart"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.prototype.render=function(b,c,l,h,f){function g(){var b=B.invert(a.mouse(event.target)[0]);x.selectAll(".g-label-value.g-start").call(d,b);x.selectAll(".g-label-year.g-start").call(e,b);x.selectAll(".g-value").attr("transform",function(a){if(a=a.values){a=a[q(a,b,0,a.length-1)];var c=0===a.Y_PREVALENCE_1000PP||a.Y_PREVALENCE_1000PP?a.Y_PREVALENCE_1000PP:a.yPrevalence1000Pp;
return a&&a.date?"translate("+B(a.date)+","+E(c)+")":"translate(0,0);"}})}function d(b,c){var d=a.scaleLinear().domain(B.range()),k={};b.each(function(b,g){g=a.select(this);var l=b.values,f=q(l,c,0,l.length-1),h=Math.round(f/(l.length-1)*(l.length-12));if((f=l[f])&&f.date){var e=B(f.date),m=0===f.Y_PREVALENCE_1000PP||f.Y_PREVALENCE_1000PP?f.Y_PREVALENCE_1000PP:f.yPrevalence1000Pp;e=d.range([0,C.bandwidth()])(e);l=E(a.max(l.slice(h,h+12),function(a){return m}));if(h=f.TRELLIS_NAME||f.trellisName)!k[h]&&
(k[h]=[]),f=f.date.getTime()===t.getTime()?"end":(f.date.getTime(),r.getTime(),"start"),k[h].push({y:l,x:e,textAnchor:f,value:m,text:g,color:n.colors(b.key)})}});Object.keys(k).forEach(function(a){var b=k[a];b.sort(function(a,b){return a.y-b.y});b.forEach(function(a,c){0<c&&(b[c].y+=Math.max(0,b[c-1].y+15-b[c].y))});var c=b.filter(function(a){return 20>=a.value});b.forEach(function(a){var b=a.x,d=a.y,k=a.textAnchor,f=a.value;a.text.text(n.yFormat(f)).style("display","block").style("text-anchor",k).attr("transform",
"translate(\n\t              "+("start"===k?b+4:b-4)+",\n\t              "+(20>=f&&1!==c.length?d-20:d)+"\n\t            )")})})}function e(c,d){var k=a.scaleLinear().domain(B.range()),f=b[0]&&b[0].values[0]&&b[0].values[0].values||[],g=f[q(f,d,0,f.length-1)];if(g&&g.date){var l=B(g.date);c.each(function(b){a.select(this).text(g.date.getFullYear()).attr("transform","translate(\n\t              "+k.range([0,C.bandwidth()-this.getComputedTextLength()])(l)+",\n\t              "+(F+6)+"\n\t              )").style("display",
null)})}}m.prototype.render.call(this,b,c,l,h,f);var k={trellisSet:a.keys(b),yTicks:4,xFormat:a.format("d"),yFormat:a.format("d"),interpolate:a.curveLinear},n=this.getOptions(k,f);c=this.createSvg(c,l,h);var q=a.bisector(function(a){return a.date}).left,r=a.min(b,function(b){return a.min(b.values,function(b){return a.min(b.values,function(a){return a.date})})}),t=a.max(b,function(b){return a.max(b.values,function(b){return a.max(b.values,function(a){return a.date})})});f=a.min(b,function(b){return a.min(b.values,
function(b){return a.min(b.values,function(a){return 0===a.Y_PREVALENCE_1000PP||a.Y_PREVALENCE_1000PP?a.Y_PREVALENCE_1000PP:a.yPrevalence1000Pp})})});var p=a.max(b,function(b){return a.max(b.values,function(b){return a.max(b.values,function(a){return 0===a.Y_PREVALENCE_1000PP||a.Y_PREVALENCE_1000PP?a.Y_PREVALENCE_1000PP:a.yPrevalence1000Pp})})});k=0;if(n.seriesLabel){var u=c.append("g");u.append("text").attr("class","axislabel").style("text-anchor","middle").attr("dy",".79em").text(n.seriesLabel);
if(k=u.node())k=u.node().getBBox().height+10}var v=0;if(n.trellisLabel){var w=c.append("g");w.append("text").attr("class","axislabel").style("text-anchor","middle").attr("dy",".79em").text(n.trellisLabel);v=w.node().getBBox().height+10}var A=0;var z=c.append("g").attr("class","g-label-trellis");z.append("text").text(n.trellisSet.join(""));A=z.node().getBBox().height+10;z.remove();var D=0;if(n.yLabel){var G=c.append("g");G.append("text").attr("class","axislabel").style("text-anchor","middle").text(n.yLabel);
D=G.node().getBBox().height+4}l=l-n.margins.left-D-n.margins.right;var F=h-n.margins.top-v-A-k-2*n.margins.bottom,C=a.scaleBand().domain(n.trellisSet).range([0,l]).paddingOuter(.2).paddingInner(.25),B=a.scaleTime().domain([r,t]).range([0,C.bandwidth()]),E=a.scaleLinear().domain([f,p]).range([F,0]);h=a.axisLeft().scale(E).tickFormat(n.yFormat).ticks(n.yTicks);z=a.axisBottom().scale(B);p=c.append("g").attr("class","axis");p.call(z);z=Math.round(p.node().getBBox().height);var I=Math.round(p.node().getBBox().width);
F-=z;l-=Math.max(0,I-l);p.remove();p=c.append("g").attr("class","axis");p.call(h);var H=Math.round(p.node().getBBox().width);l-=H;p.remove();C.range([0,l]).paddingOuter(.2).paddingInner(.25);B.range([0,C.bandwidth()]);E.range([F,0]);n.trellisLabel&&w.attr("transform","translate(\n\t        "+(l/2+n.margins.left)+",\n\t        "+n.margins.top+"\n\t      )");n.seriesLabel&&u.attr("transform","translate(\n\t        "+(l/2+n.margins.left)+",\n\t        "+(v+F+z+k+2*n.margins.top)+"\n\t      )");n.yLabel&&
(G.attr("transform","translate(\n\t        "+n.margins.left+",\n\t        "+(F/2+v+A)+"\n\t      )"),G.select("text").attr("transform","rotate(-90)").attr("y",0).attr("x",0).attr("dy","1em"));var J=a.line().x(function(a){return B(a.date)}).y(function(a){return E(0===a.Y_PREVALENCE_1000PP||a.Y_PREVALENCE_1000PP?a.Y_PREVALENCE_1000PP:a.yPrevalence1000Pp)}).curve(n.interpolate),x=a.select(c.node()).append("g").attr("transform",function(a){return"translate(\n\t        "+(D+H+n.margins.left)+",\n\t        "+
v+"\n\t      )"}).selectAll(".g-trellis").data(C.domain()).enter().append("g").attr("class","g-trellis").attr("transform",function(a){return"translate("+C(a)+", "+A+")"});u=a.axisBottom().scale(B).tickFormat("").tickSize(-F);w=a.axisLeft().scale(E).tickFormat("").tickSize(-C.bandwidth()).ticks(8);x.append("g").attr("class","x-guide").attr("transform","translate(0, "+F+")").call(u);x.append("g").attr("class","y-guide").call(w);u=x.selectAll(".g-series").data(function(a){var c=b.filter(function(b){return b.key===
a});return 0<c.length?c[0].values:[]}).enter().append("g").attr("class","g-series lineplot");u.append("path").attr("class","line").attr("d",function(b){return J(b.values.sort(function(b,c){return a.ascending(b.date,c.date)}))}).style("stroke",function(a){return n.colors(a.key)});u.append("circle").attr("class","g-value").attr("transform",function(a){if((a=a.values)&&a[a.length-1]&&a[a.length-1].date&&a[a.length-1]&&(a[a.length-1].Y_PREVALENCE_1000PP||a[a.length-1].yPrevalence1000Pp)){var b=0===a[a.length-
1].Y_PREVALENCE_1000PP||a[a.length-1].Y_PREVALENCE_1000PP?a[a.length-1].Y_PREVALENCE_1000PP:a[a.length-1].yPrevalence1000Pp;return"translate("+B(a[a.length-1].date)+", "+E(b)+")"}return"translate(0, 0)"}).attr("r",2.5).style("display","none");u.append("text").attr("class","g-label-value g-start").call(d,r);u.append("text").attr("class","g-label-value g-end").call(d,t);x.append("text").attr("class","g-label-year g-start").attr("dy",".71em").call(e,r);x.append("text").attr("class","g-label-year g-end").attr("dy",
".71em").call(e,t);x.append("g").attr("class","x axis").append("line").attr("x2",C.bandwidth()).attr("y1",E(f)).attr("y2",E(f));x.append("g").attr("class","g-label-trellis").attr("transform",function(a){return"translate("+C.bandwidth()/2+", 0)"}).append("text").attr("dy","-1em").style("text-anchor","middle").text(function(a){return a});x.append("rect").attr("class","g-overlay").attr("x",-4).attr("width",C.bandwidth()+8).attr("height",F+18).on("mouseover",function(){x.selectAll(".g-end").style("display",
"none");x.selectAll(".g-value").style("display",null);g.call(this)}).on("mousemove",g).on("mouseout",function(){x.selectAll(".g-end").style("display",null);x.selectAll(".g-label-value.g-start").call(d,r);x.selectAll(".g-label-year.g-start").call(e,r);x.selectAll(".g-label-year.g-end").call(e,t);x.selectAll(".g-value").style("display","none")});a.select(x.nodes()[0]).append("g").attr("class","y axis").attr("transform","translate(-4,0)").call(h);c.append("g").attr("transform","translate("+n.margins.left+
", "+n.margins.top+")").call(function(a){var b=0;n.colors.domain().forEach(function(c){var d=a.append("g").attr("class","trellisLegend"),k=d.append("text").text(c),f=d.node().getBBox();k.attr("x",12).attr("y",f.height);d.append("line").attr("x1",0).attr("y1",10).attr("x2",10).attr("y2",10).style("stroke",function(){return n.colors(c)});d.attr("transform","translate("+b+", 0)");b+=d.node().getBBox().width+5})})};return e});
define("atlascharts/treemap",["d3","./chart"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.prototype.render=function(b,c,l,h,f){function g(b,d){d=void 0===d?!0:d;var f=l/(b.x1-b.x0)||l,g=h/(b.y1-b.y0)||h;b.x1&&b.y1?(q.domain([b.x0,b.x0+(b.x1-b.x0)]),m.domain([b.y0,b.y0+(b.y1-b.y0)])):(q.domain([0,l]),m.domain([0,h]));var e=a.select(c).select(".treemap_zoomtarget");if(e.size())if("root"===b.data.name)e.text("");else{var p=e.text();e.text(p+" \x3e "+
b.data.name)}e=n.selectAll("g.cell, .grouper");d&&(e=e.transition().duration(750));e.attr("transform",function(a){return"translate("+q(a.x0)+", "+m(a.y0)+")"}).on("end",function(){n.selectAll(".grouper").attr("display","block")});e.select("rect").attr("width",function(a){return Math.max(0,f*(a.x1-a.x0)-1)}).attr("height",function(a){return Math.max(0,g*(a.y1-a.y0)-1)});event&&event.stopPropagation();if(k.onZoom)k.onZoom(b)}function d(a){var b=l/(a.x1-a.x0),c=h/(a.y1-a.y0),d=u.children.filter(function(b){return b.parent===
a});n.selectAll(".grouper").remove();n.selectAll(".grouper").data(d).enter().append("g").attr("class","grouper").attr("transform",function(a){return"translate("+(a.x0+1)+", "+(a.y0+1)+")"}).attr("display","none").append("rect").attr("width",function(a){return Math.max(0,b*(a.x1-a.x0)-1)}).attr("height",function(a){return Math.max(0,c*(a.y1-a.y0)-1)}).attr("title",function(a){return a.name}).attr("id",function(a){return a.id})}var e=this,k=this.getOptions(f),n=this.createSvg(c,l,h),q=a.scaleLinear().range([0,
l]),m=a.scaleLinear().range([0,h]);a.select(c).select(".treemap_zoomtarget").text("");var t=0;f=a.treemap().round(!1).size([l,h]);var p=a.hierarchy(b,function(a){return a.children}).sum(k.getsizevalue),u=f(p);b=u.leaves().filter(function(a){return k.getsizevalue(a.data)});var v=a.extent(b,function(a){return k.getcolorvalue(a.data)}),w=a.median(b,function(a){return k.getcolorvalue(a.data)});f=k.getcolorrange?k.getcolorrange():["#E4FF7A","#FC7F00"];v=[v[0],w,v[1]];k.getcolorscale&&(v=k.getcolorscale());
var A=a.scaleLinear().domain(v).range(f);b=n.selectAll("g").data(b).enter().append("g").attr("class","cell").attr("transform",function(a){return"translate("+a.x0+", "+a.y0+")"});b.append("rect").attr("width",function(a){return Math.max(0,a.x1-a.x0-1)}).attr("height",function(a){return Math.max(0,a.y1-a.y0-1)}).attr("id",function(a){return a.id}).style("fill",function(a){return A(k.getcolorvalue(a.data))}).on("click",function(a){k.useTip&&e.tip.hide();if(event.altKey)g(p),d(p);else if(event.ctrlKey){for(;a.depth!==
t+1;)a=a.parent;t=a.depth;a.children&&1<a.children.length?(d(a),g(a)):(t=0,d(p),g(p))}else k.onclick(a.data)});k.useTip?(this.useTip(function(a){a.attr("class","d3-tip").direction(function(a){var b=1===q.domain()[1]?l:q.domain()[1];return a.x1>=b-b/10?"w":a.x0<=b/10?"e":"n"}).offset([3,0]).html(function(a){return k.gettitle(a.data)+"\x3cbr/\x3e\x3cbr/\x3e"+k.getcontent(a.data)})}),b.on("mouseover",function(a){return e.tip.show(a,event.target)}).on("mouseout",function(a){return e.tip.hide(a,event.target)})):
b.attr("data-container","body").attr("data-toggle","popover").attr("data-trigger","hover").attr("data-placement","top").attr("data-html",!0).attr("data-title",function(a){return k.gettitle(a.data)}).attr("data-content",function(a){return k.getcontent(a.data)});k.initialZoomedConcept?(d(k.initialZoomedConcept),g(k.initialZoomedConcept,!1)):d(p);n.selectAll(".grouper").attr("display","block")};e.buildHierarchyFromJSON=function(a,c,l){var b=0,f={name:"root",children:[]};a.PERCENT_PERSONS.forEach(function(a){b+=
a});a.CONCEPT_PATH.forEach(function(g,d){g=g.split("||");for(var e=f,k={},h=0;h<g.length;k={nodeName:k.nodeName,childNode:k.childNode,foundChild:k.foundChild},h+=1){var m=e.children;k.nodeName=g[h];k.childNode=void 0;h+1<g.length?(k.foundChild=!1,m.forEach(function(a){return function(b){b.name===a.nodeName&&(a.childNode=b,a.foundChild=!0)}}(k)),k.foundChild||(k.childNode={name:k.nodeName,children:[]},m.push(k.childNode)),e=k.childNode):(k.childNode=l(k.nodeName,d,a),a.PERCENT_PERSONS[d]/b>c&&m.push(k.childNode))}});
return f};$jscomp.global.Object.defineProperties(e.prototype,{formatters:{configurable:!0,enumerable:!0,get:function(){return{format_pct:a.format(".2%"),format_fixed:a.format(".2f"),format_comma:a.format(",")}}}});return e});
define("atlascharts/scatterplot",["d3","./chart"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.prototype.render=function(b,c,e,h,f){m.prototype.render.call(this,b,c,e,h,f);var g={xFormat:this.formatters.formatSI(3),yFormat:this.formatters.formatSI(3),interpolate:a.curveLinear,seriesName:"SERIES_NAME",xValue:"xValue",yValue:"yValue",cssClass:"lineplot",ticks:10,yTicks:4,showSeriesLabel:!1,labelIndexDate:!1,colorBasedOnIndex:!1,showXAxis:!0,tooltip:function(a){return"\x3cdiv\x3eSeries: "+
a.seriesName+"\x3c/div\x3e\n\t\t\t\t\t\x3cdiv\x3eX: "+a[d.xValue]+"\x3c/div\x3e\n\t\t\t\t\t\x3cdiv\x3eY: "+a[d.yValue]+"\x3c/div\x3e\n\t\t\t\t\t"},circleRadius:1,addDiagonal:!1,diagonalColor:"#ccc"},d=this.getOptions(g,f);d.colors=f.colors?a.scaleOrdinal(Object.values(f.colors)).domain(Object.keys(f.colors)):a.scaleOrdinal(a.schemeCategory20).domain(b.map(function(a){return a.name}));c=this.createSvg(c,e,h);if(0<b.length){b[0].hasOwnProperty("values")||(b=[{name:"",values:b}]);this.useTip(function(a){a.attr("class",
"d3-tip").offset([-10,0]).html(d.tooltip)});f=g=0;if(d.xLabel){var l=c.append("g");l.append("text").attr("class","axislabel").style("text-anchor","middle").text(d.xLabel);var k=l.node().getBBox();g+=k.height}if(d.yLabel){var n=c.append("g");n.append("text").attr("class","axislabel").attr("transform","rotate(-90)").attr("y",0).attr("x",0).attr("dy","1em").style("text-anchor","middle").text(d.yLabel);k=n.node().getBBox();f=1.5*k.width}k=0;if(d.showLegend){var q=c.append("g").attr("class","legend"),
r=0;b.forEach(function(a,b){q.append("rect").attr("x",0).attr("y",15*b).attr("width",10).attr("height",10).style("fill",d.colors(a.name));a=q.append("text").attr("x",12).attr("y",15*b+9).text(a.name);r=Math.max(a.node().getBBox().width+12,r)});q.attr("transform","translate("+(e-d.margins.right-r)+",0)");k+=r+5}e=e-d.margins.left-d.margins.right-f-k;g=h-d.margins.top-d.margins.bottom-g;var t=d.xScale||a.scaleLinear().domain([a.min(b,function(b){return a.min(b.values,function(a){return a[d.xValue]})}),
a.max(b,function(b){return a.max(b.values,function(a){return a[d.xValue]})})]);k=a.axisBottom().scale(t).ticks(d.ticks);d.tickFormat?k.tickFormat(d.tickFormat):k.tickFormat(d.xFormat);"function"===typeof t.rangePoints?t.rangePoints([0,e]):t.range([0,e]);var p=d.yScale||a.scaleLinear().domain([0,a.max(b,function(b){return a.max(b.values,function(a){return a[d.yValue]})})]).range([g,0]),u=a.axisLeft().scale(p).tickFormat(d.yFormat).ticks(d.yTicks),v=c.append("g").attr("class","axis");v.call(k);var w=
Math.round(v.node().getBBox().height),A=Math.round(v.node().getBBox().width);g-=w;e-=Math.max(0,A-e);v.remove();v=c.append("g").attr("class","axis");v.call(u);w=Math.round(v.node().getBBox().width);e-=w;v.remove();d.xLabel&&l&&l.attr("transform","translate(\n\t\t\t\t\t\t\t"+(f+w+d.margins.left+e/2)+",\n\t\t\t\t\t\t\t"+(h-d.margins.bottom)+"\n\t\t\t\t\t\t)").selectAll("text").call(this.truncate,e);d.yLabel&&n&&n.attr("transform","translate(\n\t\t\t\t\t\t\t"+d.margins.left+",\n\t\t\t\t\t\t\t"+(d.margins.bottom+
g/2)+"\n\t\t\t\t\t\t)").selectAll("text").call(this.truncate,g);"function"===typeof t.rangePoints?t.rangePoints([0,e]):t.range([0,e]);p.range([g,0]);h=c.append("g").attr("class",d.cssClass).attr("transform","translate("+(d.margins.left+f+w)+","+d.margins.top+")");b=h.selectAll(".series").data(b).enter().append("g");b.selectAll(".dot").data(function(a){return a.values.map(function(b){return Object.assign({},b,{seriesName:a.name})})}).enter().append("circle").attr("class","dot").attr("r",d.circleRadius).style("fill",
function(a,b){return d.colors(a.seriesName)}).attr("transform",function(a){var b=t(a[d.xValue]);a=p(a[d.yValue]);return"translate("+b+","+a+")"});d.addDiagonal&&b.append("line").attr("x1",0).attr("y1",g).attr("x2",e).attr("y2",0).attr("stroke-width",1).attr("stroke",d.diagonalColor).attr("stroke-dasharray","5,5");d.showSeriesLabel&&b.append("text").datum(function(a){return{name:a.name,value:a.values[a.values.length-1]}}).attr("transform",function(a){return"translate("+t(a.value[d.xValue])+","+p(a.value[d.yValue])+
")"}).attr("x",3).attr("dy",2).style("font-size","8px").text(function(a){return a.name});var z=0,D=0,G=this;b.selectAll(".focus").data(function(a){return a.values.map(function(b){return Object.assign({},b,{seriesName:a.name})})}).enter().append("circle").attr("class","focus").attr("r",d.circleRadius).attr("transform",function(a){var b=t(a[d.xValue]),c=p(a[d.yValue]);0===a[d.xValue]&&0===D&&(z=b,D=c);return"translate("+b+","+c+")"}).on("mouseover",function(b){a.select(this).style("opacity","1").style("stroke",
d.colors(b.seriesName)).style("stroke-width",d.circleRadius/2);G.tip.show(b,event.target)}).on("mouseout",function(b){a.select(this).style("opacity","0");G.tip.hide(b,event.target)});d.showXAxis&&h.append("g").attr("class","x axis").attr("transform","translate(0,"+g+")").call(k);h.append("g").attr("class","y axis").call(u);d.labelIndexDate&&h.append("rect").attr("transform",function(){return"translate("+(z-.5)+","+D+")"}).attr("width",1).attr("height",g)}else c.append("text").attr("transform","translate("+
e/2+","+h/2+")").style("text-anchor","middle").text("No Data")};return e});
define("atlascharts/split-boxplot",["d3","./boxplot"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.prototype.render=function(b,c,e,h,f){var g={showXAxis:!0,showMinMarkers:!0,showMaxMarkers:!0,boxHeight:10,valueFormatter:this.formatters.formatSI(3),margins:{top:0,right:0,bottom:0,left:0}},d=this.getOptions(g,f);g=this.createSvg(c,e,h);c=d.valueFormatter;this.useTip(this.defaultTip,d);b.forEach(function(a){return a.Category=a.Category||"Default"});var l=
e-d.margins.left-d.margins.right;h=h-d.margins.top-d.margins.bottom;var k=a.scaleLinear().range([0,l]).domain([d.xMin||a.min(b,function(a){return Math.min(a.target.min,a.compare.min)}),d.xMax||a.max(b,function(a){return Math.max(a.target.max,a.compare.max)})]),n=a.scaleBand().range([0,h]).round(1/b.length).domain(b.map(function(a){return a.Category}));c=a.axisBottom().scale(k).tickFormat(c).ticks(5);f=a.axisLeft().scale(n);var m=0;if(d.showXAxis){var r=g.append("g").attr("class","axis");r.call(c);
var t=Math.round(r.node().getBBox().height)+2;m=Math.round(r.node().getBBox().width)+4;h-=t;l-=Math.max(0,m-l);r.remove()}t=0;d.showYAxis&&(m=g.append("g").attr("class","axis"),m.call(f),t=Math.round(m.node().getBBox().width),l-=t,m.remove());var p=d.boxHeight,u=n.bandwidth()/2-p/2,v=p/2,w=v/10;d.showMinMarkers&&(l=w>t?l-(2*w-t):l-w);k.range([0,l]);n.range([h,0]);l=g.append("g").attr("transform","translate(\n\t          "+(d.margins.left+Math.max(t,w))+",\n\t          "+d.margins.top+"\n\t        )");
d.showLegend&&(g=g.append("g").attr("class","legend"),t=g.append("g"),m=g.append("g"),t.append("rect").attr("x",0).attr("y",0).attr("width",10).attr("height",10).attr("class","target"),t.append("text").attr("x",15).attr("y",9).text("Target"),m.append("rect").attr("x",t.node().getBBox().width+10).attr("y",0).attr("width",10).attr("height",10).attr("class","compare"),m.append("text").attr("x",t.node().getBBox().width+25).attr("y",9).text("Compare"),g.attr("transform","translate(\n\t\t\t\t\t"+(e-g.node().getBBox().width)/
2+",\n\t\t\t\t\t0\n\t\t\t\t)"));b=l.selectAll(".boxplot").data(b).enter().append("g").attr("class","boxplot").attr("transform",function(a){return"translate(0, "+n(a.Category)+")"});var A=this,z=a.scaleLinear().range([p/2,0]).domain([0,p]),D=a.scaleLinear().range([0,p/2]).domain([0,p]);n.bandwidth();b.each(function(b){var c=a.select(this).append("g").attr("transform",function(){return"translate(0, "+u+")"}),e=c.append("g").datum(b.target).attr("class","target");c=c.append("g").datum(b.compare).attr("class",
"compare").attr("transform",function(){return"translate(0, "+(p/2+2)+")"});[{boxPlotData:b.target,boxplot:e,boxScale:z},{boxPlotData:b.compare,boxplot:c,boxScale:D,tipDirection:"s",tipOffset:[10,0]}].forEach(function(a){var b=a.boxPlotData,c=a.boxplot,e=a.boxScale;b.LIF!=b.q1&&(c.append("line").attr("class","bar").attr("x1",k(b.LIF)).attr("y1",e(0)).attr("x2",k(b.LIF)).attr("y2",e(v)),c.append("line").attr("class","whisker").attr("x1",k(b.LIF)).attr("y1",e(0)).attr("x2",k(b.q1)).attr("y2",e(0)));
c.append("rect").attr("class","box").attr("x",k(b.q1)).attr("y",Math.min(e(0),e(p))).attr("width",Math.max(1,k(b.q3)-k(b.q1))).attr("height",Math.abs(e(0)-e(p))).on("mouseover",function(b){return A.tip.show(Object.assign({},b,{tipDirection:a.tipDirection,tipOffset:a.tipOffset}),event.target)}).on("mouseout",function(a){return A.tip.hide(a,event.target)});c.append("line").attr("class","median").attr("x1",k(b.median)).attr("y1",e(0)).attr("x2",k(b.median)).attr("y2",e(p));b.UIF!=b.q3&&(c.append("line").attr("class",
"bar").attr("x1",k(b.UIF)).attr("y1",e(0)).attr("x2",k(b.UIF)).attr("y2",e(v)),c.append("line").attr("class","whisker").attr("x1",k(b.q3)).attr("y1",e(0)).attr("x2",k(b.UIF)).attr("y2",e(0)));d.showMinMarkers&&c.append("circle").attr("cx",k(b.min)).attr("cy",e(v/2)).attr("r",w);d.showMaxMarkers&&c.append("circle").attr("cx",k(b.max)).attr("cy",e(v/2)).attr("r",w)})});d.showXAxis&&l.append("g").attr("class","x axis").attr("transform","translate(0, "+h+")").call(c);d.showYAxis&&l.append("g").attr("class",
"y axis").attr("transform","translate(0, 0)").call(f).selectAll(".tick text").call(this.wrap,n.bandwidth()||n.range())};return e});
define("atlascharts/sunburst",["d3","./chart"],function(a,m){var e=function(a){return m.apply(this,arguments)||this};$jscomp.inherits(e,m);e.prototype.getTipDirection=function(a){return"n"};e.prototype.getTipOffset=function(a,c){var b=event.target.getBBox();a=c.centroid(a);return[Math.abs(b.y-a[1])-10,Math.abs(b.x-a[0])-b.width/2]};e.prototype.render=function(b,c,e,h,f){m.prototype.render.call(this,b,c,e,h,f);var g=this.getOptions({tooltip:function(a){return"\x3cdiv\x3eNo Tooltip Set\x3c/div\x3e"}},
f);c=this.createSvg(c,e,h);c.attr("class","sunburst");this.useTip(function(a,b){a.attr("class","d3-tip "+(b.tipClass||"")).offset(function(a){return a.tipOffset||[-10,0]}).direction(function(a){return a.tipDirection||"n"}).html(function(a){return b.tooltip(a)})},g);c=c.append("svg:g").attr("transform","translate("+e/2+","+h/2+")");h=Math.min(e,h)/2;e=a.partition().size([2*Math.PI,h]);var d=a.arc().startAngle(function(a){return a.x0}).endAngle(function(a){return a.x1}).innerRadius(function(a){return a.y0}).outerRadius(function(a){return a.y1});
c.append("svg:circle").attr("r",h).style("opacity",0);h=a.hierarchy(b).sum(function(a){return a.size}).sort(function(a,b){return b.value-a.value});e=e(h).descendants().filter(function(a){return.005<a.x1-a.x0}).reverse();g.split&&(h=e.reduce(function(a,b){var c=g.split(b);1<c.length&&(b.isSplit=!0,a=a.concat(c.map(function(a){return Object.assign(a,{isPartialNode:!0})})));return a},[]),c.data([b]).selectAll("partialnode").data(h).enter().append("svg:path").attr("d",d).attr("fill-rule","evenodd").attr("class",
"partial").style("fill",function(a){return g.colors(a.data.name)}));var l=this;c.data([b]).selectAll("pathnode").data(e).enter().append("svg:path").attr("display",function(a){return a.depth?null:"none"}).attr("d",d).attr("fill-rule","evenodd").attr("class",function(a){return g.nodeClass&&g.nodeClass(a)||"node"}).style("fill",function(a){return a.isSplit?"#000":g.colors(a.data.name)}).style("opacity",function(a){return a.isSplit?0:1}).on("mouseover",function(a){return l.tip.show(Object.assign({},a,
{tipDirection:l.getTipDirection(a),tipOffset:l.getTipOffset(a,d)}),event.target)}).on("mouseout",function(a){return l.tip.hide(a,event.target)}).on("click",function(a){return g.onclick&&g.onclick(a)})};return e});
define("atlascharts/util",["d3"],function(a){var m=a.format(",.3r");return{wrap:function(e,b){e.each(function(){for(var c=a.select(this),e=c.text().split(/\s+/).reverse(),h,f=[],g=0,d=c.attr("y"),m=parseFloat(c.attr("dy")),k=c.text(null).append("tspan").attr("x",0).attr("y",d).attr("dy",m+"em");h=e.pop();)f.push(h),k.text(f.join(" ")),k.node().getComputedTextLength()>b&&(1<f.length&&(f.pop(),e.push(h),k.text(f.join(" "))),f=[],g+=1,k=c.append("tspan").attr("x",0).attr("y",d).attr("dy",1.1*g+m+"em"))})},
formatInteger:function(a){return m(a)},formatSI:function(e){e=e||0;return function(b){if(1>b)return a.round(b,e);var c=a.formatPrefix(b);return a.round(c.scale(b),e)+c.symbol}},buildHierarchy:function(a,b,c){b=b||function(a){return a[0]};c=c||function(a){return a[1]};for(var e={name:"root",children:[]},h=0;h<a.length;h++){var f=b(a[h]),g=+c(a[h]);if(!isNaN(g)){f=f.split("-");for(var d=e,m=0;m<f.length;m++){var k=d.children,n=f[m];if(m+1<f.length){d=!1;for(var q=0;q<k.length;q++)if(k[q].name==n&&k[q].children){var r=
k[q];d=!0;break}d||(r={name:n,children:[]},k.push(r));d=r}else r={name:n,size:g},k.push(r)}}}return e}}});
define("atlascharts/main","require ./chart ./aster ./areachart ./barchart ./boxplot ./donut ./histogram ./line ./trellisline ./treemap ./scatterplot ./split-boxplot ./sunburst ./util".split(" "),function(a){var m={version:"0.0.1"},e=a("./chart"),b=a("./aster"),c=a("./areachart"),l=a("./barchart"),h=a("./boxplot"),f=a("./donut"),g=a("./histogram"),d=a("./line"),y=a("./trellisline"),k=a("./treemap"),n=a("./scatterplot"),q=a("./split-boxplot"),r=a("./sunburst");a=a("./util");m.chart=e;m.aster=b;m.areachart=
c;m.barchart=l;m.boxplot=h;m.donut=f;m.histogram=g;m.line=d;m.trellisline=y;m.treemap=k;m.scatterplot=n;m.splitBoxplot=q;m.sunburst=r;m.util=a;return m});define("atlascharts",["atlascharts/main"],function(a){return a});
